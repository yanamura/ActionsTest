name: Pull Req Reservation

on:
  pull_request:
    types: [labeled]
jobs:
  to-ready:
    if: github.event.label.name == 'monday'
    runs-on: ubuntu-latest
    steps:
    - uses: octokit/graphql-action@v2.2.10
      with:
        query: |
          query 
            mutation($prID: String!) {
              markPullRequestReadyForReview(
                input: {pullRequestId: $prID}
              ){ clientMutationId }
            }
        prID: ${{ github.event.issue.number }}
        owner: ${{ github.event.repository.owner.name }}
        repo: ${{ github.event.repository.name }}
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
